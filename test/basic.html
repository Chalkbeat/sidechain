<!doctype html>
<html>
  <body>
    <script>
      document.addEventListener("npr-pym-loader:pym-loaded", e => console.log(e));
    </script>
    <h1>Sidechain guest/host</h1>
    <div class="sidechain-container">
      <side-chain src="basic-guest.html"></side-chain>
    </div>


    <h1>Pym v1 host, Sidechain guest</h1>
    <div id="guest" class="sidechain-container" data-pym-loader data-child-src="./basic-guest.html"> Loading... </div>

    <h1>Sidechain host, Pym v1 guest</h1>
    <div class="sidechain-container">
      <side-chain src="https://apps.npr.org/dailygraphics/graphics/tabletest-20181026/"></side-chain>
    </div>


    <style>
      .sidechain-container {
        border: 2px dotted #AAA;
      }
    </style>
    <script type="module" src="../src/index.js"></script>
    <script src="https://pym.nprapps.org/pym.v1.min.js"></script>
    <script>
      var element = document.querySelector("#guest");
      var parent = new pym.Parent(element.id, element.getAttribute("data-child-src"));
      var count = 0;
      setInterval(function() {
        parent.sendMessage("timer", count++);
      }, 2000)
    </script>
  </body>
</html>
